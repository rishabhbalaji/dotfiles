# ~/.config/picom/picom.conf

# Backend
backend = "glx"; # Try "glx" first, if issues, try "xrender" or "cairo"

# Rounded corners
corner-radius = 10.0; # Adjust value for desired roundness
round-borders = 1; # Enable rounded borders
rounded-corners-exclude = [
  "class_g = 'Polybar'", # Don't round Polybar
  "class_g = 'dwm'", # Example for other WMs
  "class_g = 'URxvt'", # Example for specific terminals if needed
  "class_g = 'Lxterminal'",
  "class_g = 'kitty'",
  "class_g = 'xfce4-terminal'",
  "class_g != 'Alacritty'", # CRUCIAL: Exclude anything NOT Alacritty
  "class_g = 'Dolphin'", # Exclude Dolphin
  "class_g = 'Rofi'",    # Exclude Rofi (if it's not floating)
  "class_g = 'Code'",    # Exclude VS Code
  "class_g = 'variety'", # Exclude Variety (if it creates a window)
  "class_g = 'BlueMan-manager'", # Exclude Blueman
  
];

# Opacity
inactive-opacity = 1; # Windows you are not focused on (0.0 - 1.0)
frame-opacity = 1;
active-opacity = 1; # Active window opacity (can be < 1 for active window transparency)
opacity-rule = [
  "80:class_g = 'Alacritty'", # 80% opacity for Alacritty
  "100:class_g = 'Polybar'", # Polybar always opaque (background handled by Polybar itself)
];

# Blur
blur: {
  method = "dual_kawase"; # Try "dual_kawase" for good quality, "gaussian" is simpler
  strength = 5; # Adjust blur strength (e.g., 3-10)
  deviation = 1.0; # For gaussian blur
};
blur-background = true; # Enable blur on transparent windows
blur-background-frame = false;
blur-background-fixed = false;
blur-kern = "3x3box"; # Kernel for blur method

blur-background-exclude = [
  "class_g = 'Polybar'", # Exclude Polybar from blur
  "_GTK_FRAME_EXTENTS@:c", # Often helps prevent blur on GTK popups
  "class_g = 'slop'",     # scrot's selection tool
];

# Fading
fading = true;
fade-delta = 4;
fade-in-step = 0.03;
fade-out-step = 0.03;
fade-exclude = [ ];

# Other settings (optional, but common)
vsync = true; # Helps with screen tearing
mark-wmwin-focused = true;
mark-ovredir-focused = true;
detect-rounded-corners = true;
detect-client-opacity = true;
use-ewmh-active-win = true;
wintypes: {
  tooltip: { fade = true; shadow = true; opacity = 0.8; focus = true; full-shadow = false; };
  dock: { shadow = false; };
  dnd: { shadow = false; };
  popup_menu: { opacity = 1.0; };
  dropdown_menu: { opacity = 1.0; };
};